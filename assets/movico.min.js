var movico=function(e){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,i)};function i(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}var n=function(){},o=function(){function e(){this.indexer=0,this.__list=[]}return e.prototype.Dispose=function(){this.__list=[]},e.prototype.Add=function(e){var t=this.__list.push(e)-1;return null!=this.ItemAdded&&this.ItemAdded(e),t},e.prototype.AddBefore=function(e){var t=this.__list.unshift(e)-1;return null!=this.ItemAddedBefore&&this.ItemAddedBefore(e),t},e.prototype.Insert=function(e,t){var i=this.__list.splice(e,0,t);return null!=this.ItemSplice&&this.ItemSplice(e,t),i},Object.defineProperty(e.prototype,"items",{get:function(){return this.__list},enumerable:!1,configurable:!0}),e.prototype.clear=function(){return this.__list=[],this.__list},Object.defineProperty(e.prototype,"count",{get:function(){return this.__list.length},enumerable:!1,configurable:!0}),e.prototype.remove=function(e){return this.__list.splice(this.__list.indexOf(e),1),e=null,[]},e.prototype.indexOf=function(e){return this.__list.indexOf(e)},e.prototype.removeIndex=function(e){return this.__list.splice(e,1)},e.prototype.item=function(e){return this.__list[e]},e.prototype.forEach=function(e){var t;null===(t=this.__list)||void 0===t||t.forEach(e)},e.prototype.ReverseClone=function(){return this.__list.reverse()},e.prototype.filter=function(e,t){return this.__list.filter(e)},e}(),r=function(){function e(){this.__values=new o}return e.prototype.Add=function(e,t){this.__values.filter((function(t){return t.Key==e}));var i=new n;i.Key=e,i.value=t;var o=this.__values.Add(i);return null!=this.OnItemAdded&&this.OnItemAdded(i.Key,i.value),o},e.prototype.has=function(e){return!!this.filter((function(t){return t.Key==e}))[0]},e.prototype.item=function(e){return this.filter((function(t){return t.Key==e}))[0]},e.prototype.removeIndex=function(e){return this.__values.removeIndex(e-1)},e.prototype.remove=function(e){var t=this;this.__values.filter((function(t){return t.Key==e})).forEach((function(e,i,n){t.__values.remove(e)}))},e.prototype.clear=function(){this.__values.clear()},e.prototype.forEach=function(e){this.__values.forEach(e)},Object.defineProperty(e.prototype,"values",{get:function(){return this.__values},enumerable:!1,configurable:!0}),e.prototype.filter=function(e,t){return this.__values.items.filter(e)},e}(),l=function(){},a=function(){function e(){this.StartIndex=0}return e.prototype.dispose=function(){var e=this;p.GetKeys(this).filter((function(e){})).forEach((function(t){e[t]=null,delete e[t]}))},e}(),s=function(){this.Dependencies=[],this.NotifyCollection=[]},u=function(){function e(){this.GuidSegments=[0]}return e.prototype.Generate=function(){for(var e="",t=0;t<this.GuidSegments.length;t++)this.GuidSegments[t]<9007199254740990?this.GuidSegments[t]++:this.GuidSegments.push(1),e+=this.GuidSegments[t];return e},e}(),c=[],p={mode:"production",dataExecutionRule:"lax",name:"movi",toArray:function(e,t){t=t||0;for(var i=e.length-t,n=new Array(i);i--;)n[i]=e[i+t];return n},arrayProto:Array.prototype,isArray:Array.isArray,isFunction:function(e){if("function"==typeof e){var t=e.toString().replace(/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,""),i=t.slice(t.indexOf("(")+1,t.indexOf(")")).match(/([^\s,]+)/g);return null===i&&(i=[]),i.length>0?"method":"computed"}return"unknown"},isObject:function(e){return"object"==typeof e},isBool:function(e){return"boolean"==typeof e},isNumeric:function(e){var t=Number.parseInt(e);return Number.isInteger(t)},isString:function(e){return"string"==typeof e},isNull:function(e){return void 0===e},isInt:function(e){return"bigint"==typeof e},isSymbol:function(e){return"symbol"==typeof e},ExtendInstance:function(e,t){var i=function(e,t){return(i=Object.setPrototypeOf||Object.getPrototypeOf([])instanceof Array&&function(e,t){Object.setPrototypeOf(e,t)}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)};function n(){null!=this&&(this.constructor=e)}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},ArrayMethods:["push","pop","shift","unshift","splice","sort","reverse","concat"],GetKeys:function(e){return Object.keys(e)},GetScope:function(e,t){var i=Object.getOwnPropertyDescriptor(e,t);return i&&i.get?i.get.call({GetScope:!0}):null},isDefined:function(e,t){var i=Object.getOwnPropertyDescriptor(e,t);return i&&i.get?i.get.call({isDefined:!0}):null},setParent:function(e,t){null!=e&&p.GetKeys(e).forEach((function(i){var n=e[i];if(p.isObject(n)||p.isArray(n))try{p.setParent(e[i],t)}catch(e){}}))},PrefixBuilder:function(e,t){return e.length>0?t.startsWith&&t.startsWith("[")?e+t:e+"."+t:t},ScopeModels:[],Subscribers:new Map,Sbs:new r,Subscribe:{set:function(e,t,i){p.Sbs.has(i)?p.Sbs.item(i).value.push({prop:e,key:t}):p.Sbs.Add(i,[{prop:e,key:t}])},delete:function(e){p.Sbs.remove(e)},has:function(e,t){return p.Sbs.filter((function(i){return i.value.filter((function(i){return i.prop===e&&i.key===t})).length>0})).length>0},get:function(e,t){var i=[];return p.Sbs.filter((function(i){return i.value.filter((function(i){return i.prop===e&&i.key===t})).length>0})).forEach((function(e){i.push(e.Key)})),i}},DefinePropery:function(e,t,i,n,o){var r,l;if("__dep__"!==i&&"NotifyCollection"!==(null===(l=null===(r=t[i])||void 0===r?void 0:r.contructor)||void 0===l?void 0:l.name)){var u,c;(u=new s).isComputed=!1,u.isArray=!1,u.PropertyName=i,u.Callback=o,u.Dependencies=[],u.isCompleted=!0,u.prefix=n,u.KeySize=0,u.Model=t,u.ID=e.Identifier.Generate();var f=Object.getOwnPropertyDescriptor(t,i),d=f&&f.get,h=f&&f.set;f&&!1===f.configurable||(d&&!h||(c=t[i],p.isArray(c)&&(u.isArray=!0)),Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:function(){var t;if(this.GetScope)return u;if(this.isDefined)return u.isCompleted;if(this.RemoveRef){var i=u.NotifyCollection.indexOf(this.notify);i>-1&&u.NotifyCollection.splice(i,1)}else{if("Directive"!=(null===(t=this.constructor)||void 0===t?void 0:t.name)){null!==e.ComputedDependListener.Target&&void 0!==e.ComputedDependListener.Target&&null!==e.ComputedDependListener.Scope&&e.ComputedDependListener.Scope.isComputed&&(u.Dependencies.includes(e.ComputedDependListener.Scope)||u.Dependencies.push(e.ComputedDependListener.Scope));var n=d?d.call(void 0):c;return c=n}u.NotifyCollection.includes(this.notify)||u.NotifyCollection.push(this.notify)}},set:function(o){if(void 0!==o&&c!==o){var r=new a;r.eventtype="change",r.OldValue=c,r.PropertyName=i,h?h.call(t,o):(c=o,p.isArray(o)?u.isArray=!0:u.isArray=!1),r.NewValue=c,p.isArray(c)?r.datatype="array":p.isObject(c)?r.datatype="object":"unknown"===p.isFunction(c)&&(r.datatype="value"),p.isArray(c)?e.ArrayService.Parse(t,i,u.prefix):p.isObject(c)&&e.ObjectService.Parse(c,u.prefix),p.Notify(e,u,r,n),p.logger.debug("Data changed",o),r=null}}}),p.logger.debug("Define Property",i))}},DefineMethod:function(e,t,i,n,o){},DefineComputedPropery:function(e,t,i,n){var o,r,l;if(p.isDefined(t,i))p.logger.debug("Property already defined.",{PropertyName:i});else if("__dep__"!==i&&"NotifyCollection"!==(null===(r=null===(o=t[i])||void 0===o?void 0:o.contructor)||void 0===r?void 0:r.name)){var a;(a=new s).isComputed=!0,a.isArray=!1,a.PropertyName=i,a.Callback=n,a.Mutation=t,a.ID=e.Identifier.Generate(),a.Model=t,n=n.bind(e.Model),null!=e.ComputedDependListener.Target&&null!=e.ComputedDependListener.Target||(e.ComputedDependListener.Target=a.ID,e.ComputedDependListener.Scope=a,a.cache=null===(l=a.Callback)||void 0===l?void 0:l.call(e.Model),p.isArray(a.cache)&&(a.isArray=!0),e.ComputedDependListener.Target=null,e.ComputedDependListener.Scope=null);var u=Object.getOwnPropertyDescriptor(t,i),c=u&&u.get;u&&u.set,Object.defineProperty(t,i,{configurable:!0,enumerable:!0,get:function(){var t;if(this.GetScope)return a;if(this.RemoveRef){var i=a.NotifyCollection.indexOf(this.notify);i>-1&&a.NotifyCollection.splice(i,1)}else{var o=a.cache;if(this.olddata)return a.cache;if("Directive"!=(null===(t=this.constructor)||void 0===t?void 0:t.name))return null!=e.ComputedDependListener.Target&&null!=e.ComputedDependListener.Target||(e.ComputedDependListener.Target=a.ID,e.ComputedDependListener.Scope=a),o=n.call(e.Model),p.isArray(o)?a.isArray=!0:a.isArray=!1,e.ComputedDependListener.Target=null,e.ComputedDependListener.Scope=null,p.isArray(o)&&(a.isArray=!0),o;a.NotifyCollection.includes(this.notify)||a.NotifyCollection.push(this.notify)}},set:function(t){var o=c?c.call(e.Model):a.cache,r=n.call(e.Model);r!==o&&("change"===t.eventtype?(t.NewValue=r,t.OldValue=a.cache):"append"===t.eventtype&&(t.eventtype="change",t.NewValue=r,t.OldValue=a.cache),t.PropertyName=i,p.Notify(e,a,t,i),a.cache=r)}})}},Notify:function(e,t,i,n){if(null!==t){p.Subscribers.forEach((function(e,t){(null===e._Control||null===e._Control.element)&&p.Subscribers.delete(t)})),p.Subscribe.get(t.Model,t.PropertyName).forEach((function(n){n.notify(i,t,e)})),e.DataChanged(i,t);!function(t){if(null!==t){var n=function(t){if((null==t?void 0:t.length)>0){if(t.endsWith("]")){var i=t.lastIndexOf("[");t=t.substring(0,i)}var o=p.GetScope(e.Model,t);return o&&o?o:n(p.GoBackPrefix(t))}},o=n(t.prefix),r=function(t){null!=t&&(t.NotifyCollection.forEach((function(e){})),t.Dependencies.forEach((function(t){if(t.NotifyCollection){var n=Object.getOwnPropertyDescriptor(t.Mutation,t.PropertyName);n&&n.set&&n.set.call(e.Model,i)}t.Dependencies.forEach((function(t){if(t.NotifyCollection){var n=Object.getOwnPropertyDescriptor(t.Mutation,t.PropertyName);n&&n.set&&n.set.call(e.Model,i)}}))})))};o&&o!==t&&r(o),r(t)}}(t),p.isObject(i.NewValue)&&p.GetKeys(i.NewValue).forEach((function(t){var o=p.GetScope(i.NewValue,t),r=new a;p.isArray(i.NewValue[t])?r.datatype="array":p.isObject(i.NewValue[t])?r.datatype="object":r.datatype="value",r.eventtype="change",r.NotifyType="Property",r.PropertyName=t,r.NewValue=i.NewValue[t],p.Notify(e,o,r,p.PrefixBuilder(n,t))}))}},GoBackPrefix:function(e){var t=e.lastIndexOf(".");return e.substring(0,t)},CreateRecordModel:function(){return new a},CreateComputedDependListener:function(){return new l},logger:{info:function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];if("development"===p.mode){var n=["info",e,t,(new Date).toDateString()];c.push(n),console.info(n)}},error:function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];if("development"===p.mode){var n=["error",e,t,(new Date).toDateString()];c.push(n),console.info(n)}},warn:function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];if("development"===p.mode){var n=["warn",e,t,(new Date).toDateString()];c.push(n),console.info(n)}},log:function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];if("development"===p.mode){var n=["log",e,t,(new Date).toDateString()];c.push(n),console.info(n)}},debug:function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];if("development"===p.mode){var n=["debug",e,t,(new Date).toISOString()];c.push(n),console.info(n)}}},LogToScreen:function(){console.info(c)},Identifier:new u,ExtendObject:function(e,t){p.GetKeys(t).forEach((function(i){e[i]=t[i]}))},FindRootModel:function(e){return e?e.model?e.model:p.FindRootModel(e.parentControl):null},FindVariableName:function(e,t){return e?e.loopvar===t?{Variable:t,Control:e}:p.FindVariableName(e.parentControl,t):null},FindProps:function(e,t){return e?null===e[t]?{Variable:t,Control:e,value:e[t]}:p.FindVariableName(e.parentControl,t):null}},f=function(){function e(e){this._element=e}return e.prototype.Add=function(e){var t=this;e.split(" ").forEach((function(e){var i;null===(i=t._element)||void 0===i||i.classList.add(e)}))},e.prototype.Remove=function(e){var t=this;e.split(" ").forEach((function(e){var i;null===(i=t._element)||void 0===i||i.classList.remove(e)}))},e.prototype.Has=function(e){var t;return null===(t=this._element)||void 0===t?void 0:t.classList.contains(e)},e}(),d=function(){function e(e,t){this._element=e,this._control=t}return e.prototype.Constain=function(e){for(var t=this._element.attributes,i=t.length,n=0;n<i;n++)if(t[n].name.indexOf(e)>-1)return!0;return!1},e.prototype.Add=function(e,t,i){p.FindProps(this._control,""),p.FindRootModel(this._control),i?this._element.setAttributeNS(i,e,t):this._element.setAttribute(e,t)},e.prototype.Remove=function(e,t){t?this._element.removeAttributeNS(t,e):this._element.removeAttribute(e)},e.prototype.Has=function(e,t){return t?!!this._element.hasAttributeNS(t,e)&&this._element.hasAttributeNS(t,e):!!this._element.hasAttribute&&this._element.hasAttribute(e)},e.prototype.Get=function(e,t){return t?this._element.getAttributeNS(t,e):this._element.getAttribute(e)},e}(),h=function(){},y=function(){function e(){}return e.prototype.init=function(e,t){e.Property&&(p.Subscribe.set(e.Property,e.FieldName,t.bind),t.element.childNodes.forEach((function(e){e.remove()})),t.element.innerHTML=e.Property[e.FieldName])},e.prototype.run=function(e,t,i){e.Property&&null!==e.Property[e.FieldName]&&(t.element.childNodes.forEach((function(e){e.remove()})),t.element.innerHTML=e.Property[e.FieldName])},e.prototype.dispose=function(e,t){e.Property&&p.Subscribe.delete(t.bind)},e}(),m=function(){},v=function(){function e(){}return e.prototype.dispose=function(e,t){e.Property&&p.Subscribe.delete(t.bind)},e.prototype.init=function(e,t){if(e.Property&&null!==e.Property[e.FieldName]){p.Subscribe.set(e.Property,e.FieldName,t.bind);var i=e.Property[e.FieldName];if(!p.isArray(i))return p.logger.error("Loop data only use array type",{data:i}),!1;i.forEach((function(i){var n,o=e.Callback(i);o.__arrayitem__=i,o[e.VariableName]=i,e.VariableName&&(o.loopvar=e.VariableName),null===(n=t.controls)||void 0===n||n.Add(o)}))}},e.prototype.run=function(e,t,i){var n,o;if("delete"===i.eventtype&&i.NewValue.forEach((function(i){t.controls.filter((function(t){return t.__arrayitem__===i||t[e.VariableName]===i})).forEach((function(t){t&&(t.__arrayitem__=null,e.VariableName&&delete t.loopvar,t[e.VariableName]&&delete t[e.VariableName],t.dispose()),t=null}))})),"append"===i.eventtype&&i.NewValue.forEach((function(i){var n=e.Callback(i);n.__arrayitem__=i,e.VariableName&&(n.loopvar=e.VariableName),p.isArray(n)?n.forEach((function(o){o.loopvar=n.loopvar,o.__arrayitem__=n.__arrayitem__,o[e.VariableName]=i,t.controls.Add(o)})):t.controls.Add(n)})),"inserted"===i.eventtype){var r=i.StartIndex;i.NewValue.forEach((function(i){var n=e.Callback(i);if(n.__arrayitem__=i,e.VariableName&&(n.loopvar=e.VariableName),p.isArray(n)){var o=0;n.forEach((function(l){l.loopvar=n.loopvar,l.__arrayitem__=n.__arrayitem__,l[e.VariableName]=i,t.controls.Insert(r+o,l),o++}))}else t.controls.Insert(r,n);r++}))}if("change"===i.eventtype&&p.isArray(i.NewValue)){null===(n=i.OldValue)||void 0===n||n.forEach((function(n){var o,r;i.NewValue.includes(n)||null===(r=null===(o=t.controls)||void 0===o?void 0:o.filter((function(e){return e.__arrayitem__===n})))||void 0===r||r.forEach((function(t){t&&(t.__arrayitem__=null,e.VariableName&&delete t.loopvar,t.dispose()),t=null}))}));var l=0;null===(o=i.NewValue)||void 0===o||o.forEach((function(n){var o;if(i.OldValue&&!i.OldValue.includes(n)){var r=e.Callback(n);r.__arrayitem__=n,r[e.VariableName]=n,e.VariableName&&(r.loopvar=e.VariableName),null===(o=t.controls)||void 0===o||o.Insert(l,r)}l++})),l=0,i.OldValue=null}},e}(),b=function(){},g=function(){function e(){}return e.prototype.init=function(e,t){e.Property&&(p.Subscribe.set(e.Property,e.FieldName,t.bind),this.Setup(e,t))},e.prototype.run=function(e,t,i){if(e.Property&&null!==e.Property[e.FieldName])switch(t.element.tagName){case"input":case"INPUT":var n=t.element;("checkbox"==n.type||"radio"==n.type)&&"boolean"==typeof e.Property[e.FieldName]?t.element.checked=e.Property[e.FieldName]:t.element.value=e.Property[e.FieldName];break;case"button":case"BUTTON":t.element.value=e.Property[e.FieldName];break;case"select":case"SELECT":t.element;var o=e.Property[e.FieldName];p.isObject(o)?t.element.value=JSON.stringify(o):t.element.value=o;break;case"option":case"OPTION":o=e.Property[e.FieldName];t.element.value=o;break;default:t.element.innerHTML=e.Property[e.FieldName]}},e.prototype.dispose=function(e,t){e.Property&&p.Subscribe.delete(t.bind)},e.prototype.Setup=function(e,t){var i="";switch(t.element&&(i=t.element.tagName),i){case"input":case"INPUT":var n=t.element;if("checkbox"==n.type||"radio"==n.type){var o=t.element;o.onchange=function(){e.Property[e.FieldName]=t.element.checked},o.checked=e.Property[e.FieldName]}else if("range"===n.type){var r=t.element;r.onchange=function(){e.Property[e.FieldName]=t.element.value},r.oninput=function(){e.Property[e.FieldName]=t.element.value},r.value=e.Property[e.FieldName]}else if("button"!=n.type&&"submit"!=n.type&&"reset"!=n.type){var l=t.element;l.oninput=function(){e.Property[e.FieldName]=n.value},l.value=e.Property[e.FieldName]}break;case"button":case"BUTTON":t.element.value=e.Property[e.FieldName];break;case"select":case"SELECT":t.element.value=e.Property[e.FieldName];break;case"option":case"OPTION":t.element.value=e.Property[e.FieldName];break;case"optiongroup":case"OPTIONGROUP":t.element.textContent=e.Property[e.FieldName]}},e}(),C=function(){},N=function(){function e(){}return e.prototype.init=function(e,t){e.forEach((function(e){e.Property&&(p.Subscribe.set(e.Property,e.FieldName,t.bind),t.element.setAttribute(e.AttrName,e.Property[e.FieldName]))}))},e.prototype.run=function(e,t,i){e.forEach((function(e){e.Property&&null!==e.Property[e.FieldName]&&t.element.setAttribute(e.AttrName,e.Property[e.FieldName])}))},e.prototype.dispose=function(e,t){e.forEach((function(e){e.Property&&p.Subscribe.delete(t.bind)})),e.splice(0)},e}(),P=function(){},_=function(){function e(){}return e.prototype.init=function(e,t){e.Property&&(p.Subscribe.set(e.Property,e.FieldName,t.bind),t.element.textContent=e.Property[e.FieldName])},e.prototype.run=function(e,t,i){e.Property&&null!==e.Property[e.FieldName]&&(t.element.textContent=e.Property[e.FieldName])},e.prototype.dispose=function(e,t){e.Property&&p.Subscribe.delete(t.bind)},e}(),S=function(){},D=function(){function e(){}return e.prototype.init=function(e,t){e.Property&&(p.Subscribe.set(e.Property,e.FieldName,t.bind),e.Expression.call(this,e.Property[e.FieldName]))},e.prototype.run=function(e,t,i){e.Property&&null!==e.Property[e.FieldName]&&e.Expression.call(this,e.Property[e.FieldName])},e.prototype.dispose=function(e,t){e.Property&&p.Subscribe.delete(t.bind)},e}(),O=function(){},F=function(){function e(){}return e.prototype.init=function(e,t){var i=this;e.forEach((function(e){e.Property&&(p.Subscribe.set(e.Property,e.FieldName,t.bind),e.Callback.call(i,e.Property[e.FieldName]))}))},e.prototype.run=function(e,t,i){var n=this;e.filter((function(e){return e.FieldName===i.PropertyName})).forEach((function(e){null!=e.Property&&null!==e.Property[e.FieldName]&&e.Callback.call(n,e.Property[e.FieldName])}))},e.prototype.dispose=function(e,t){e.forEach((function(e){e.Property&&p.Subscribe.delete(t.bind)})),e.splice(0)},e}(),w=function(){},A=function(){function e(){}return e.prototype.init=function(e,t){e.Property&&(p.Subscribe.set(e.Property,e.FieldName,t.bind),this.Setup(e,t))},e.prototype.run=function(e,t,i){if(e.Property&&null!==e.Property[e.FieldName])switch(t.element.tagName){case"input":case"INPUT":t.element,t.element.value=e.Property[e.FieldName];break;case"button":case"BUTTON":t.element.value=e.Property[e.FieldName];break;case"select":case"SELECT":var n=e.Property[e.FieldName];p.isObject(n)?t.element.value=JSON.stringify(n):t.element.value=n;break;case"option":case"OPTION":n=e.Property[e.FieldName];t.element.value=n;break;default:t.element.innerHTML=e.Property[e.FieldName]}},e.prototype.dispose=function(e,t){e.Property&&p.Subscribe.delete(t.bind)},e.prototype.Setup=function(e,t){var i="";switch(t.element&&(i=t.element.tagName),i){case"input":case"INPUT":var n=t.element;if("checkbox"==n.type||"radio"==n.type)t.element.value=e.Property[e.FieldName];else if("range"===n.type){var o=t.element;o.onchange=function(){e.Property[e.FieldName]=t.element.value},o.oninput=function(){e.Property[e.FieldName]=t.element.value},o.value=e.Property[e.FieldName]}else if("button"!=n.type&&"submit"!=n.type&&"reset"!=n.type){var r=t.element;r.oninput=function(){e.Property[e.FieldName]=n.value},r.value=e.Property[e.FieldName]}break;case"button":case"BUTTON":t.element.value=e.Property[e.FieldName];break;case"select":case"SELECT":t.element.value=e.Property[e.FieldName];break;case"option":case"OPTION":t.element.value=e.Property[e.FieldName];break;case"optiongroup":case"OPTIONGROUP":t.element.textContent=e.Property[e.FieldName]}},e}(),M=function(){},E=function(){function e(){}return e.prototype.init=function(e,t){e.forEach((function(e){e.Property&&(p.Subscribe.set(e.Property,e.FieldName,t.bind),t.element.style[e.StylePropertyName]=e.Property[e.FieldName])}))},e.prototype.run=function(e,t,i){e.forEach((function(e){e.Property&&null!==e.Property[e.FieldName]&&(t.element.style[e.StylePropertyName]=e.Property[e.FieldName])}))},e.prototype.dispose=function(e,t){e.forEach((function(e){e.Property&&p.Subscribe.delete(t.bind)})),e.splice(0)},e}(),x=function(){},V=function(){function e(){}return e.prototype.init=function(e,t){if(e.Property){p.Subscribe.set(e.Property,e.FieldName,t.bind);var i=!1,n=e.Property[e.FieldName];"number"==typeof n?i=n>0:"boolean"==typeof n&&(i=n),!0===i?t.show():t.hide()}},e.prototype.run=function(e,t,i){if(e.Property&&null!==e.Property[e.FieldName]){var n=!1,o=e.Property[e.FieldName];"number"==typeof o?n=o>0:"boolean"==typeof o&&(n=o),!0===n?t.show():t.hide()}},e.prototype.dispose=function(e,t){e.Property&&p.Subscribe.delete(t.bind)},e}(),L=function(){function e(e){this.LoopDirective=new v,this.HtmlDirective=new y,this.ModelDirective=new g,this.ValueDirective=new A,this.AttributeDirective=new N,this.TextDirective=new _,this.ClassDirective=new D,this.WatchDirective=new F,this.StyleDirective=new E,this.VisibilityDirective=new V,this.Configuration={Html:new h,Model:new b,Value:new w,Loop:new m,Attr:[],Text:new P,Class:new S,Watch:[],Style:[],Visibility:new x},this._Control=e,this.notify=this.notify.bind(this),this.dispose=this.dispose.bind(this)}return e.prototype.dispose=function(){this.ModelDirective.dispose(this.Configuration.Model,this._Control),this.ValueDirective.dispose(this.Configuration.Value,this._Control),this.HtmlDirective.dispose(this.Configuration.Html,this._Control),this.LoopDirective.dispose(this.Configuration.Loop,this._Control),this.AttributeDirective.dispose(this.Configuration.Attr,this._Control),this.TextDirective.dispose(this.Configuration.Text,this._Control),this.VisibilityDirective.dispose(this.Configuration.Visibility,this._Control),this.ClassDirective.dispose(this.Configuration.Class,this._Control),this.WatchDirective.dispose(this.Configuration.Watch,this._Control),this.StyleDirective.dispose(this.Configuration.Style,this._Control);this._Control=null;this.Configuration=null},e.prototype.notify=function(e,t,i){if(null==this._Control.element)return console.error("Element is null"),this._Control.dispose(),!1;if(t.isArray){if(!1===this.Configuration.Loop.initCompleted&&null==this.Configuration.Loop.Property&&null!=this.Configuration.Loop.FieldName){var n=this.getLoopContext(this.Configuration.Loop.FieldName);n?(this.Configuration.Loop.initCompleted=!0,this.Configuration.Loop.Property=n.Property,this.Configuration.Loop.FieldName=n.FieldName,this.Configuration.Loop.VariableName=n.VariableName,this.LoopDirective.init(this.Configuration.Loop,this._Control)):this.Configuration.Loop.initCompleted=!1}this.LoopDirective.run(this.Configuration.Loop,this._Control,e)}return this.HtmlDirective.run(this.Configuration.Html,this._Control,e),this.ModelDirective.run(this.Configuration.Model,this._Control,e),this.ValueDirective.run(this.Configuration.Value,this._Control,e),this.AttributeDirective.run(this.Configuration.Attr,this._Control,e),this.TextDirective.run(this.Configuration.Text,this._Control,e),this.ClassDirective.run(this.Configuration.Class,this._Control,e),this.WatchDirective.run(this.Configuration.Watch,this._Control,e),this.StyleDirective.run(this.Configuration.Style,this._Control,e),this.VisibilityDirective.run(this.Configuration.Visibility,this._Control,e),!0},e.prototype.ConfigurationInit=function(e){if(null==e.Property&&null!=e.FieldName){var t=this.getModelContext(e.FieldName);if(!t)return;e.Property=t.Property,e.FieldName=t.FieldName}},e.prototype.ConfigurationArrayInit=function(e){var t=this;e.forEach((function(e){if(null==e.Property&&null!=e.FieldName){var i=t.getModelContext(e.FieldName);if(!i)return;e.Property=i.Property,e.FieldName=i.FieldName}}))},e.prototype.initBinding=function(){if(this.Configuration){if(this.ConfigurationInit(this.Configuration.Text),this.ConfigurationInit(this.Configuration.Html),this.ConfigurationInit(this.Configuration.Model),this.ConfigurationInit(this.Configuration.Value),this.ConfigurationInit(this.Configuration.Class),this.ConfigurationInit(this.Configuration.Visibility),null==this.Configuration.Loop.Property&&null!=this.Configuration.Loop.FieldName){var e=this.getLoopContext(this.Configuration.Loop.FieldName);if(!e)return void(this.Configuration.Loop.initCompleted=!1);this.Configuration.Loop.initCompleted=!0,this.Configuration.Loop.Property=e.Property,this.Configuration.Loop.FieldName=e.FieldName,this.Configuration.Loop.VariableName=e.VariableName,this.LoopDirective.init(this.Configuration.Loop,this._Control)}this.ConfigurationArrayInit(this.Configuration.Watch),this.ConfigurationArrayInit(this.Configuration.Style),this.LoopDirective.init(this.Configuration.Loop,this._Control),this.HtmlDirective.init(this.Configuration.Html,this._Control),this.ModelDirective.init(this.Configuration.Model,this._Control),this.ValueDirective.init(this.Configuration.Value,this._Control),this.AttributeDirective.init(this.Configuration.Attr,this._Control),this.TextDirective.init(this.Configuration.Text,this._Control),this.ClassDirective.init(this.Configuration.Class,this._Control),this.WatchDirective.init(this.Configuration.Watch,this._Control),this.StyleDirective.init(this.Configuration.Style,this._Control),this.VisibilityDirective.init(this.Configuration.Visibility,this._Control)}},e.prototype.getModelContext=function(e){var t,i,n=e.indexOf("."),o=e.substring(0,n),r=e.substring(n+1),l=p.FindVariableName(this._Control,o);return null!=l&&(t=l.Control.__arrayitem__),t?{Property:t,FieldName:r,ModelName:o}:(t=p.FindRootModel(this._Control))?((i=""==o?t:t[o])||""==o||(i=t[o]),{Property:i,FieldName:r,ModelName:o}):null},e.prototype.getLoopContext=function(e){var t,i,n=e.indexOf("in"),o=e.substring(0,n).trim(),r=e.substring(n).split("in")[1].trim(),l=r.indexOf("."),a=r.substring(0,l).trim(),s=r.substring(l+1).trim(),u=p.FindVariableName(this._Control,a);return null!=u&&(t=u.Control.__arrayitem__),t?{Property:t,FieldName:s,VariableName:o,ModelName:a,RootModel:t}:(t=p.FindRootModel(this._Control),(i=""==a.trim()?t:t[a.trim()])||""==a.trim()||(i=t[a.trim()]),{Property:i,FieldName:s,VariableName:o,ModelName:a,RootModel:t})},e.prototype._callback=function(){this._Control.isRendered&&this.initBinding()},e.prototype.html=function(e,t){this.Configuration.Html.Property=e,this.Configuration.Html.FieldName=t,this._callback&&this._callback()},e.prototype.model=function(e,t){this.Configuration.Model.Property=e,this.Configuration.Model.FieldName=t,this._callback&&this._callback()},e.prototype.value=function(e,t){this.Configuration.Value.Property=e,this.Configuration.Value.FieldName=t,this._callback&&this._callback()},e.prototype.loop=function(e,t,i){this.Configuration.Loop.FieldName=t,this.Configuration.Loop.Property=e,this.Configuration.Loop.Callback=i,this._callback&&this._callback()},e.prototype.attr=function(e,t,i){if(!t){var n=this.getModelContext(i);if(!n)return;t=n.Property,i=n.FieldName}var o=new C;o.Property=t,o.FieldName=i,o.AttrName=e,this.Configuration.Attr.push(o),this._callback&&this._callback()},e.prototype.text=function(e,t){this.Configuration.Text.Property=e,this.Configuration.Text.FieldName=t,this._callback&&this._callback()},e.prototype.class=function(e){},e.prototype.watch=function(e,t,i){var n=new O;n.Callback=i,n.FieldName=t,n.Property=e,this.Configuration.Watch.push(n),this._callback&&this._callback()},e.prototype.style=function(e,t,i){var n=new M;n.StylePropertyName=i,n.FieldName=t,n.Property=e,this.Configuration.Style.push(n),this._callback&&this._callback()},e.prototype.visibility=function(e,t){var i=this;this.watch(e,t,(function(e){var t=!1;"number"==typeof e?t=e>0:"boolean"==typeof e&&(t=e),!0===t?i._Control.show():i._Control.hide()}))},e}(),I=function(){function e(e){this.instance=e}return e.prototype.Parse=function(e,t,i){var n,o,r=p.GetScope(e,t);if(!r||!0!==r.isComputed){"__dep__"!==t&&"NotifyCollection"!==(null===(o=null===(n=e[t])||void 0===n?void 0:n.constructor)||void 0===o?void 0:o.name)&&this.ArrayMutation(e,i,t);for(var l=e[t],a=0;a<l.length;a++){var s=l[a];p.isArray(s)?this.Parse(l,a.toString(),p.PrefixBuilder(i,"["+a+"]")):this.instance.ObjectService.Parse(s,p.PrefixBuilder(i,"["+a+"]"),!0)}}},e.prototype.ArrayMutation=function(e,t,i){var n=e[i],o=this;p.logger.debug("Started array mutation",n),n.count=function(){var e;return null===(e=this[t])||void 0===e?void 0:e.length},o.instance.ComputedService.Parse(n,n.count,"count");var r=p.GetScope(n,i);p.ArrayMethods.forEach((function(l){var a=p.arrayProto[l];Object.defineProperty(n,l,{enumerable:!0,configurable:!0,value:function(){for(var s=Object.create(arguments),u=s.length,c=new Array(u);u--;)c[u]=s[u];var f=a.apply(this,c);switch(l){case"push":o.PushMutation(c,f,e,t,i);break;case"unshift":o.UnShiftMutation(c,f,e,t,i);break;case"splice":o.SpliceMutation(c,f,e,t,i)}var d=p.CreateRecordModel();return d.eventtype="change",d.OldValue=[],d.NewValue=n,d.NotifyType="Property",d.StartIndex=n.length+1,r&&p.Notify(o.instance,r,d,t),f}})}))},e.prototype.PushMutation=function(e,t,i,n,o){for(var r=p.GetScope(i,o),l=i[o],a=0;a<e.length;a++){var s=e[a],u=i[o].indexOf(s);p.isArray(s)?this.Parse(l,(u+a).toString(),p.PrefixBuilder(n,"["+(u+a).toString()+"]")):p.isObject(s)&&this.instance.ObjectService.Parse(s,p.PrefixBuilder(n,"["+(u+a).toString()+"]"))}var c=p.CreateRecordModel();c.eventtype="append",c.OldValue=l.slice(0,l.indexOf(e[0])),c.NewValue=e,c.NotifyType="Property",c.StartIndex=l.length+1,r&&p.Notify(this.instance,r,c,n)},e.prototype.UnShiftMutation=function(e,t,i,n,o){for(var r=e,l=i[o],a=e.length,s=p.GetScope(i,o),u=0;u<a;u++){var c=e[u];Array.isArray(c)?this.Parse(e,u.toString(),p.PrefixBuilder(n,u.toString())):"object"==typeof c&&this.instance.ObjectService.Parse(c,p.PrefixBuilder(n,u.toString()))}var f=p.CreateRecordModel();f.eventtype="prepend",f.OldValue=l,f.NewValue=e,f.DeleteCount=0,f.StartIndex=0,f.InsertCount=r.length,s&&p.Notify(this.instance,s,f,n)},e.prototype.SpliceMutation=function(e,t,i,n,o){var r=e[0],l=e[1],a=e.slice(2),s=p.GetScope(i,o),u=i[o];if(a&&a.length>0){for(var c=0;c<a.length;c++){var f=a[c];Array.isArray(f)?(this.Parse(a,c.toString(),p.PrefixBuilder(n,c.toString())),this.instance.ArrayService.Parse(a,c.toString(),p.PrefixBuilder(n,c.toString()))):"object"==typeof f&&this.instance.ObjectService.Parse(f,p.PrefixBuilder(n,c.toString()))}if(l>0&&Array.isArray(t)){(h=p.CreateRecordModel()).eventtype="delete",h.OldValue=u,h.NewValue=t,h.DeleteCount=l,h.StartIndex=r,h.InsertCount=a.length,s&&p.Notify(this.instance,s,h,n);for(c=0;c<t.length;c++)t[c]=null,delete t[c]}for(c=0;c<a.length;c++);var d=p.CreateRecordModel();d.eventtype="inserted",d.OldValue=u,d.NewValue=a,d.DeleteCount=l,d.StartIndex=r,d.InsertCount=a.length,s&&p.Notify(this.instance,s,d,n)}else{var h;(h=p.CreateRecordModel()).eventtype="delete",h.OldValue=u,h.NewValue=t,h.DeleteCount=l,h.StartIndex=r,h.InsertCount=a.length,s&&p.Notify(this.instance,s,h,n);for(c=0;c<t.length;c++)t[c]=null,delete t[c]}},e}(),k=function(){function e(e){this.instance=e}return e.prototype.Parse=function(e,t,i){var n={Parent:e,Model:t,FunctionName:i};this.instance.ComputedProperties.push(n);p.logger.debug("Define Computed",i),this.instance.isCompleted&&this.Mutate(n)},e.prototype.Mutate=function(e){p.DefineComputedPropery(this.instance,e.Parent,e.FunctionName,e.Parent[e.FunctionName])},e}(),j=function(){function e(e){this.instance=e}return e.prototype.FindAllPrototypes=function(e,t){var i;if("Dependency"!=(null===(i=e.constructor)||void 0===i?void 0:i.name)){var n=Object.getPrototypeOf(e);if(n){var o=Object.keys(n);for(var r in o){var l=o[r];"__dep__"!=l&&"constructor"!=l&&t.push(o[r])}}}},e.prototype.Parse=function(e,t,i,n){void 0===n&&(n=!1);var o=this;if(null!=e){var r=p.GetKeys(e);n&&this.FindAllPrototypes(e,r),r.forEach((function(i){var n,r,l,a,s=e[i],u=p.PrefixBuilder(t,i),c=p.isFunction(s);p.isArray(s)?"__dep__"!==i&&"NotifyCollection"!==(null===(r=null===(n=e[i])||void 0===n?void 0:n.constructor)||void 0===r?void 0:r.name)&&(o.instance.ArrayService.Parse(e,i,u),p.DefinePropery(o.instance,e,i,u)):p.isObject(s)?"__dep__"!==i&&"NotifyCollection"!==(null===(a=null===(l=e[i])||void 0===l?void 0:l.constructor)||void 0===a?void 0:a.name)&&(o.Parse(s,u),p.DefinePropery(o.instance,e,i,u)):"computed"===c?o.instance.ComputedService.Parse(e,s,i):"method"===c||p.DefinePropery(o.instance,e,i,u)}))}},e}(),T=function(){function e(e){this.instance=e}return e.prototype.Parse=function(e,t,i){var n={Parent:e,Model:t,FunctionName:i};this.instance.Methods.push(n),p.logger.debug("Define Method",i),this.instance.isCompleted&&this.Mutate(n)},e.prototype.Mutate=function(e){p.DefineMethod(this.instance,e.Parent,e.Model,e.FunctionName,e.Parent[e.FunctionName])},e}(),R=function(){function e(e,t){this.Map=[],this.Identifier=new u,this.isCompleted=!1,this.ArrayService=new I(this),this.ComputedService=new k(this),this.ObjectService=new j(this),this.ComputedProperties=[],this.Methods=[],this.MethodService=new T(this),t?(Object.assign(t.Model,e),this.ArrayService=new I(t),this.ComputedService=new k(t),this.ObjectService=new j(t),this.MethodService=new T(t),this.Model=t.Model):this.Model=e,p.logger.debug("Start new observer instance.",e);this.ComputedDependListener=p.CreateComputedDependListener(),p.isObject(this.Model)?(this.ObjectService.Parse(this.Model,"",!1,!0),this.ReinitDependencies(),this.isCompleted=!0):p.logger.debug("Model only supported type Object.",this.Model),this.Model=this.Model}return e.Create=function(t){return new e(t)},e.prototype.ReinitDependencies=function(){var e=this;e.ComputedProperties.forEach((function(t){e.ComputedService.Mutate(t)})),e.Methods.forEach((function(t){e.MethodService.Mutate(t)}))},e.prototype.DataChanged=function(e,t){},e}(),H=function(){function e(){}return e.prototype.AddDepend=function(e){},e}(),B=function(){function e(e,t,i){this.isDisposed=!1,this.disposingHandlers=new o,this.disposedHandlers=new o,this.handlers=new r,this.events={enter:13,left:37,top:38,right:39,bottom:40,esc:27,alt:18,ctrl:17,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,capslock:20,tab:9,home:36,end:35,insert:45,pageup:33,delete:46,pagedown:34,scrolllock:145,space:32},this.EventNames={13:"enter",37:"left",38:"top",39:"right",40:"bottom",27:"esc",18:"alt",17:"ctrl",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",20:"capslock",9:"tab",36:"home",35:"end",45:"insert",33:"pageup",46:"delete",34:"pagedown",145:"scrolllock"},this.placeholder=document.createComment(""),i&&p.ExtendObject(this,i),null!=t&&(this.Properties=t),this.element="string"==typeof e?document.createElement(e):e,this.clientID=p.Identifier.Generate(),this.controls=new o,this.class=new f(this.element),this.attr=new d(this.element,this),this.bind=new L(this),null!=i&&i.initialize&&this.initialize()}return e.prototype.Add=function(e){return this.controls.Add(e),this},Object.defineProperty(e.prototype,"context",{get:function(){return this._cc},set:function(e){var t;this._cc=e,null===(t=this.controls)||void 0===t||t.forEach((function(t){t.context=e}))},enumerable:!1,configurable:!0}),e.prototype.findRootControl=function(e){return null!=e.parentControl?this.findRootControl(e.parentControl):e},e.prototype.clear=function(e){this.controls.forEach((function(e){e.dispose(!0)})),this.controls.clear(),this.element.innerHTML=""},e.prototype.InsertBefore=function(e,t){if(e.childNodes.length>0){var i=e.firstChild;e.insertBefore(t,i)}else e.appendChild(t)},e.prototype.insertindex=function(e,t,i){if(e.childNodes.length>0&&e.childNodes.length<i){var n=e.lastChild;e.insertBefore(t,n)}if(e.childNodes.length>i){var o=e.childNodes.item(i);e.insertBefore(t,o)}else e.appendChild(t)},e.prototype.renderElementsToMain=function(e,t,i){void 0===t&&(t=0),void 0===i&&(i=0),e.context=this.context,e.parentControl=this,e.render(!1),this.element&&e.element&&"STYLE"!==e.element.tagName&&(e.renderToRoot?1==t?this.InsertBefore(document.body,e.element):2==t&&this.insertindex(document.body,e.element,i):1==t?this.InsertBefore(this.element,e.element):2==t?this.insertindex(this.element,e.element,i):this.element.appendChild(e.element))},e.prototype.render=function(e){var t=this;null!==this.Properties&&new R(this.Properties),this.isRendered=!0,this.controls&&(this.controls.forEach((function(e){t.renderElementsToMain(e)})),this.controls.ItemAdded=function(e){t.renderElementsToMain(e,0)},this.controls.ItemAddedBefore=function(e){t.renderElementsToMain(e,1)},this.controls.ItemSplice=function(e,i){t.renderElementsToMain(i,2,e)},this.bind.initBinding())},e.prototype.renderTo=function(e){this.render(!0),e.appendChild(this.element)},e.prototype.disposing=function(e){this.disposingHandlers.Add(e)},e.prototype.disposed=function(e){this.disposedHandlers.Add(e)},e.prototype.dispose=function(e){var t,i=this;void 0===e&&(e=!0),!1===this.isDisposed&&(this.bind.dispose(),this.disposingHandlers.forEach((function(e){e(i)})),this.disposingHandlers.clear(),this.controls.forEach((function(e){e.dispose(!1)})),this.element&&(this.element.onclick=null,this.element.oninput=null,this.element.onchange=null,this.handlers.forEach((function(e){i.removeHandler(e.Key,e.value)}))),this.element.remove(),this.element=null,this.disposedHandlers.forEach((function(e){e(i.clientID)})),this.disposedHandlers.clear(),!0===e&&(this.controls.forEach((function(e){})),this.controls.clear(),null===(t=this.parentControl)||void 0===t||t.controls.remove(this)),this.isDisposed=!0)},e.prototype.initialize=function(){},e.prototype.clone=function(e){var t=new this.constructor,i=this,n=Object.create(this,Object.getOwnPropertyDescriptors(t));return n.constructor=function(){return i.constructor.call(i.element.cloneNode())},n.key=e,n},Object.defineProperty(e.prototype,"isDisabled",{get:function(){return!!(this.disabled||this.class.Has("disabled")||this.attr.Has("disabled"))||null!=this.parentControl&&this.parentControl.isDisabled},enumerable:!1,configurable:!0}),e.prototype.addHandler=function(e,t){var i=this;e.split(" ").forEach((function(e){if(null!=i.element){var n=e.split(".");i.handlers.has(n[0])&&(i.handlers.remove(n[0]),i.element.removeEventListener(n[0],t.bind(i),!1)),i.handlers.Add(n[0],t),i.element.addEventListener(n[0],(function(e){i.isDisabled||(n.length>1?e.keyCode==i.events[n[1]]&&(t(e),console.error(e.keyCode)):t(e))}),!1)}}))},e.prototype.removeHandler=function(e,t){var i=this;e.split(" ").forEach((function(e){var n=e.split(".");i.handlers.remove(n[0]),i.element.removeEventListener(n[0],t.bind(i),!1)}))},e.prototype.clearHandler=function(){this.handlers.clear()},Object.defineProperty(e.prototype,"style",{get:function(){return this.element.style},enumerable:!1,configurable:!0}),e.prototype.show=function(){if(this.style.display="",this.isRendered){null==this._parentHtmlElement&&null!=this.element.parentElement&&(this._parentHtmlElement=this.element.parentElement),null==this._parentHtmlElement&&(this._parentHtmlElement=document.body);try{this._parentHtmlElement.replaceChild(this.element,this.placeholder)}catch(e){}}},e.prototype.hide=function(){if(this.style.display="none",this.isRendered){null==this._parentHtmlElement&&null!=this.element.parentElement&&(this._parentHtmlElement=this.element.parentElement),null==this._parentHtmlElement&&(this._parentHtmlElement=document.body);try{this._parentHtmlElement.replaceChild(this.placeholder,this.element)}catch(e){}}},e}(),G=function(e){function t(t,i,n){return e.call(this,t,i,n)||this}return i(t,e),t}(B),K=function(e){function t(){var t=e.call(this,document.createElement("style"))||this;return document.head.append(t.element),t}return i(t,e),t.prototype.AddRule=function(e,t,i){void 0===i&&(i=-1);var n="\n ";Object.getOwnPropertyNames(t).forEach((function(e){n+=e+": "+t[e]+";\n "}));var o=this.element.sheet;return i>-1?(null!=o.cssRules.item(i)&&o.deleteRule(i),o.insertRule(e+"{"+n+"}",i)):o.insertRule(e+"{"+n+"}",o.cssRules.length)},t}(B),W=function(){function e(){this.Routes=[]}return e.prototype.AddRoute=function(e,t,i){this.Routes.push({Patern:e,Controller:t,Action:i})},e}(),U=function(){function e(){this._services=new r}return e.prototype.AddService=function(e){this._services.Add(e.name,e)},e}(),z=function(){function e(e){this.RouteManager=new W,this.Services=new U,e&&Object.assign(this,e),this.Configuration&&this.Configuration({Routes:this.RouteManager}),this.ServiceConfiguration&&this.ServiceConfiguration(this.Services),this.Start()}return e.prototype.Configuration=function(e){},e.prototype.ServiceConfiguration=function(e){},e.prototype.Start=function(){},e}();return e.App=z,e.Component=G,e.CssStyle=K,e.ModelBase=H,e.Observer=R,e.RouteManager=W,Object.defineProperty(e,"__esModule",{value:!0}),e}({});
